#include <stdio.h>

int main(void)
{
    /*
        // 0. ν¬μΈν„°λ€? μ£Όμ†λ¥Ό μ €μ¥ν•λ” λ³€μ. (μ¦‰, μ–΄λ–¤ λ³€μλ¥Ό κ°€λ¦¬ν‚¤λ” μ£Όμ†λ¥Ό μ €μ¥ν•λ” λ³€μ)
        // ν¬μΈν„°λ” μ£Όμ†λ¥Ό μ €μ¥ν•λ” λ³€μμ΄κΈ° λ•λ¬Έμ—, ν¬μΈν„° λ³€μλ” μ£Όμ†λ¥Ό μ €μ¥ν•  μ μλ” ν¬κΈ°λ§νΌμ λ©”λ¨λ¦¬ κ³µκ°„μ„ ν• λ‹Ήλ°›μ

        // 1. μΌλ° λ³€μ μ„ μ–Έ
        int *p; // int *p : int ν•μ„ κ°€λ¦¬ν‚¤λ” ν¬μΈν„° λ³€μ
                // p : ν¬μΈν„° λ³€μ (μ£Όμ†λ¥Ό λ‹΄λ” λ³€μ μμ²΄)
        int x = 30;
        p = &x; // 'x'μ μ£Όμ†λ¥Ό pμ— μ €μ¥ (μ¦‰, pλ” xλ¥Ό κ°€λ¦¬ν‚΄)

        // ν¬μΈν„°λ¥Ό μ •μν•μΌλ΅ κ°•μ  μ¶λ ¥
        // ν¬μΈν„° intλ¥Ό %dλ΅ μ¶λ ¥ν•λ©΄ ν¬μΈν„°λ¥Ό κ°•μ λ΅ μ •μλ΅ ν•΄μ„ν•΄μ„ κ²°κ³Όκ°€ λ‚μ¤κΈ΄ ν•μ§€λ§, κ¶μ¥ν•μ§„ μ•μ.
        // κ·Έλ¬λ‚ μ£Όμ† κ°’μ΄ intν• λ³΄λ‹¤ ν° κ²½μ°μ— μμλ΅ ν•΄μ„λ  μ μμ
        printf("%d\n", p);  // λ³€μ 'x'μ μ£Όμ†κ°’(μ„μλ΅ ν• λ‹Ήλ κ°’) μ¶λ ¥
        printf("%d\n", &p); // ν¬μΈν„° pμ μ£Όμ†κ°’(μ„μλ΅ ν• λ‹Ήλ κ°’) μμ²΄λ¥Ό μ¶λ ¥
        printf("%d\n", *p); // ν¬μΈν„° pκ°€ κ°€λ¦¬ν‚¤λ” μ‹¤μ κ°’ (μ¦‰, λ³€μ 'x'μ κ°’(30)) μ¶λ ¥ -> μ—­μ°Έμ΅°λΌκ³  ν•¨

        // νƒ€μ…μ΄ μ—†λ” ν¬μΈν„°λ΅ μ •μƒμ μΌλ΅ μ¶λ ¥
        // (void*)λΌκ³  μ„ μ–Έ ν•λ©΄ νƒ€μ…μ΄ μ—†λ” ν¬μΈν„°μ„ (μ¦‰, μ–΄λ–¤ νƒ€μ…μ λ°μ΄ν„°λ“  κ°€λ¦¬ν‚¬ μ μλ” λ²”μ© ν¬μΈν„°)
        printf("%p\n", (void *)p);
        printf("%p\n", (void *)&p);
        printf("%d\n", *p);

        // ν¬μΈν„° μ¶λ ¥ μ‹ μ£Όμμ‚¬ν•­
        // printf λ” μΈμλ¥Ό ν¬λ§· λ¬Έμμ—΄λ΅ λ³€ν™ν•μ—¬ μ¶λ ¥ν•κΈ° λ•λ¬Έμ—, pλ¥Ό μ¶λ ¥ν•μ„ μ§€μ •ν•μ§€ μ•μΌλ©΄ pλ¥Ό λ¬Έμμ—΄λ΅ κ°„μ£Ό
        // ex. printf(p); // pλ¥Ό λ¬Έμμ—΄λ΅ κ°„μ£Όν•μ—¬ μ¶λ ¥
        // λ©”λ¨λ¦¬λ¥Ό λ¬Έμμ—΄μ²λΌ ν•΄μ„ν•λ‹¤κ°€ μ΄μƒν• κ²°κ³Όκ°€ λ‚μ¤κ±°λ‚ ν¬λμ‹λ¨
    */

    // 2. λ°°μ—΄ λ³€μ μ„ μ–Έ
    int arr[3] = {5, 10, 15};
    int *ptr = arr;
    for (int i = 0; i < 3; i++)
    {
        // λ°°μ—΄μ κ°’ ν™•μΈ
        printf("λ°°μ—΄ arr[%d]μ  κ°’ : %d\n", i, arr[i]);
        printf("λ°°μ—΄ *(arr+[%d])μ  κ°’ : %d\n", i, *(arr + i));
        printf("ptr[%d]μ  κ°’ : %d\n", i, ptr[i]);
        printf("*(ptr+[%d])μ  κ°’ : %d\n\n", i, *(ptr + i));

        // λ°°μ—΄μ μ£Όμ† ν™•μΈ
        printf("λ°°μ—΄ arr[%d]μ  μ£Όμ† : %p\n", i, arr[i]);
        printf("ptr[%d]μ  μ£Όμ† : %p\n\n", i, ptr[i]);
    }

    printf("\n---------------------------------\n\n");

    // λ°°μ—΄ μμ²΄λ¥Ό μ¶λ ¥ν–μ„ λ•μ κ°’ = λ°°μ—΄ μ²«λ²μ§Έ μ”μ†λ¥Ό μ¶λ ¥ν–μ„ λ•μ κ°’
    printf("λ°°μ—΄ arrμ κ°’ : %d\n", *arr);
    printf("λ°°μ—΄ arr[%d]μ μ²«λ²μ§Έ κ°’ : %d\n", 0, arr[0]);
    printf("ptrμ κ°’ : %d\n", *ptr);
    printf("ptr[%d]μ μ²«λ²μ§Έ κ°’ : %d\n\n", 0, ptr[0]);

    // μ„μ κ²°κ³Όμ— μ£Όμ† κ°’μ„ κ°κ° ν™•μΈ
    printf("λ°°μ—΄ arrμ μ£Όμ† : %d\n", &arr);
    printf("λ°°μ—΄ arr[%d]μ μ²«λ²μ§Έ κ°’ : %d\n", 0, &arr[0]);
    printf("ptrμ μ£Όμ† : %d\n", &ptr); // // ν¬μΈν„° λ³€μ ptrμ μ‹¤μ  μ£Όμ†λ” arrμ™€ λ‹¤λ¦„ 
    printf("ptr[%d]μ μ²«λ²μ§Έ κ°’ : %d\n\n", 0, &ptr[0]);
}

// π”„ ν¬μΈν„° μ”μ•½
// p     : λ³€μ xμ μ£Όμ†
// *p    : xμ κ°’ (μ—­μ°Έμ΅°)
// &p    : ν¬μΈν„° λ³€μ p μμ²΄μ μ£Όμ†
// %d    : μ •μ μ¶λ ¥ (ν¬μΈν„°μ— μ“°λ©΄ μ„ν—!)
// %p    : ν¬μΈν„° μ£Όμ† μ¶λ ¥ μ „μ©
// void* : μ–΄λ–¤ νƒ€μ…μ΄λ“  κ°€λ¦¬ν‚¬ μ μλ” λ²”μ© ν¬μΈν„°
